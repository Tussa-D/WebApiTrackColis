<div>
  <!-- HEADER -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold text-blue-600">Gestion des Utilisateurs Colis</h2>
    <button
      (click)="createNew()"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition flex items-center gap-2"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
        <path d="M12 5v14m7-7H5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Nouveau
    </button>
  </div>

  <!-- LOADING -->
  <div *ngIf="isLoading" class="flex justify-center items-center py-12">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
  </div>

  <!-- ERROR -->
  <div *ngIf="errorMessage" class="bg-red-100 text-red-600 p-4 rounded-lg mb-6">
    ⚠️ {{ errorMessage }}
  </div>

  <!-- TABLE -->
  <div *ngIf="!isLoading && !errorMessage" class="overflow-x-auto bg-white shadow-md rounded-lg">
    <table class="min-w-full text-left text-gray-700">
      <thead class="bg-sky-500/90 text-white">
        <tr>
          <th class="px-6 py-3 font-medium">ID</th>
          <th class="px-6 py-3 font-medium">Nom</th>
          <th class="px-6 py-3 font-medium">Prénom</th>
          <th class="px-6 py-3 font-medium">Email</th>
          <th class="px-6 py-3 font-medium">Téléphone</th>
          <th class="px-6 py-3 font-medium">CNI</th>
          <th class="px-6 py-3 font-medium">Statut</th>
          <th class="px-6 py-3 font-medium text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of usersColis" class="border-b border-gray-200 hover:bg-blue-50">
          <td class="px-6 py-3">{{ user.idUserColis }}</td>
          <td class="px-6 py-3">{{ user.nom }}</td>
          <td class="px-6 py-3">{{ user.prenom }}</td>
          <td class="px-6 py-3">{{ user.email }}</td>
          <td class="px-6 py-3">{{ user.telephone }}</td>
          <td class="px-6 py-3">{{ user.cni }}</td>
          <td class="px-6 py-3">
            <span [class]="user.statut === 'Actif' ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600'" 
                  class="px-3 py-1 rounded-full text-sm font-medium">
              {{ user.statut }}
            </span>
          </td>
          <td class="px-6 py-3 flex justify-center gap-2">
            <button (click)="editUser(user.idUserColis)" 
                    class="text-blue-600 hover:text-blue-800 transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"/>
                <path d="M20.71 7.04a1.001 1.001 0 0 0 0-1.42L18.37 3.29a1.001 1.001 0 0 0-1.42 0L15.13 5.1l3.75 3.75z"/>
              </svg>
            </button>
            <button (click)="deleteUser(user.idUserColis)" 
                    class="text-red-600 hover:text-red-800 transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"/>
              </svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- NO DATA -->
    <div *ngIf="usersColis.length === 0" class="text-center py-12 text-gray-500">
      Aucun utilisateur trouvé. Cliquez sur "Nouveau" pour en créer un.
    </div>
  </div>
</div>